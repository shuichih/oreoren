[General]
windowWidth=512
windowHeight=512
buildBVH=true
drawBVH=false
drawBBox=false
drawBVHDepth=7
rendererType=2

[RayTracing]
useBVH = true
maxRayBounce = 6
nSubPixelSqrt = 1
useTentFilter = false
distanceToProjPlane=140

[PhotonMap] # for Indirect Light
enable = true
nPhotons = 100000
nMaxStorePhotons = 200000
nEstimatePhotons = 1000
estimateDist = 25.0
estimateEllipseScale = 0.2
nSubPixelSqrt = 1
enableConeFilter = true
coneFilterK = 1.1   # kに比例してWeightが軽くなる
nTracePhotonsPerThread = 10000
maxPhotonBounce = 6
maxRayBounce = 6
useBVH = true
#finalGethering = true
nFinalGetheringRays = 64
nMaxGlossyBounce = 1
nGlossyRays = 256

[CoarsticPhotonMap]
enable = true
nPhotons = 800000
nMaxStorePhotons = 800000
nEstimatePhotons = 100
estimateDist = 5
estimateEllipseScale = 0.2
enableConeFilter = true
coneFilterK = 1.1   # kに比例してWeightが軽くなる
nTracePhotonsPerThread = 10000
maxPhotonBounce = 6
maxRayBounce = 6
useBVH = true

[ShadowPhotonMap]
enable = true
nPhotons = 40000
nMaxStorePhotons = 80000
nEstimatePhotons = 100
estimateDist = 7.0
estimateEllipseScale = 0.2

# @todo RendererのConfigとPhotonMapデータ構造自体のコンフィグを分ける
# 2つ以上のLightでpenumbra_estimate test

[PostEffect]
toneMap.enabled = false
toneMap.keyValue = 0.045

[Camera]
camera.position = 0 12 285
camera.direction = 0 -0.04 -1.0
camera.fovY = 0.5135

#[LightSource]
#type = POINT
#position = 0 52 0
#intensity = 10000 10000 10000

[LightSource]
type = AREA
p0 = -15 52  15
p1 = -15 52 -15
p2 =  15 52 -15
p3 =  15 52  15
intensity = 10000 10000 10000
nSamples = 256

# 手前がプラス

[Rectangle] #Left
    p0 = -62  53  95
    p1 = -62 -53  95
    p2 = -62 -53 -95
    p3 = -62  53 -95
	emission = .75 .25 .25
	material = DIFF

[Rectangle] #Right
    p0 = 62  53 -95
    p1 = 62 -53 -95
    p2 = 62 -53  95
    p3 = 62  53  95
	emission = .25 .25 .75
	material = DIFF

[Rectangle] #Back
    p0 = -62  53 -95
    p1 = -62 -53 -95
    p2 =  62 -53 -95
    p3 =  62  53 -95
	emission = .75 .75 .75
	material = DIFF

#[Rectangle] #Front
#    p0 =  62  53  95
#    p1 =  62 -53  95
#    p2 = -62 -53  95
#    p3 = -62  53  95
#	emission = .75 .75 .75
#	material = DIFF
#

[Rectangle] #Bottom
    p0 = -62 -53 -95
    p1 = -62 -53  95
    p2 =  62 -53  95
    p3 =  62 -53 -95
	emission = .75 .75 .75
	material = DIFF

[Rectangle] #Top
    p0 = -62  53 -95
    p1 = -62  53  95
    p2 =  62  53  95
    p3 =  62  53 -95
	emission = .75 .75 .75
	material = DIFF

[Sphere] #Mirror
	radius = 20
	position = -25 -53+20 -20
	emission = .999 .999 .999
	material = SPEC

#[Sphere] #Glass
#	radius = 20
#	position = 25 -53+20 15
#	emission = 0 0.5 1
#	material = REFR

#[Triangle]
#	p0 = 0  20 35
#	p1 = 20 20 35
#	p2 = 20  20 35
#	emission = .80 .80 .20
#	material = DIFF
#
#[SceneImport]
#    path = "/Users/shuichih/Dev/rt/objs/venusm.obj"
#    scale = 0.02 0.02 0.02
#	translate = 52 0 95
#	translate = 85 0 95
#    material = DIFF


[SceneImport]
    path = "/Users/shuichih/Dev/rt/objs/slime_objs/slime_simple_uhigh_tri.obj"
    scale = 20 20 20
    translate = 25 -53+20 15
    material = REFR
    faceReverse = true
    color = 0.0 0.5 1.0
